# ProjectIdleOrClicker
제목: 달려가자! 우당**탕탕**2 - 회쳐모여 우리 친구들!<br/>
※ 본 프로젝트는 이전, 달려가자! 우당**탕탕**을 함께 작업했던 팀원들의 동의 하에 제작한 프로젝트입니다.<br/>
장르: 물량 공세 방치형 던전 크롤러<br/>
<br/>
**시나리오 컨셉**<br/>
1편의 결과로 막대한 보상금을 받은 우리의 리자드맨!<br/>
보상금으로 배 터지게 먹은 우리의 리자드맨은 문득 떠오릅니다!<br/>
'다른 곳도 쓸어버리면 또 배부르게 먹을 수 있겠지? 친구들한테도 알려줘야지!'<br/>
그렇게 리자드맨은 달려갑니다!<br/>
"우리 같이 달려가자! **회**쳐모여 우리 친구들!!!"<br/>
<br/>
※ 본 프로젝트는 현재 미완성 상태입니다. 추후 시간이 될 때 추가로 작업하여 완성할 예정입니다.<br/>
# 개발 현황
## 개발 중인 기능
### 플레이어 캐릭터
* 스프라이트 렌더러와 Rigidbody, Capsule Collider를 이용하여 3D 환경에서의 픽셀 그래픽을 구현하였습니다.
* 복수 캐릭터 구성
  * 캐릭터의 현황에 따라서 표시 UI가 증가, 정렬되도록 구성하였습니다.
  * 인 게임 상으로 동료를 지속적으로 추가할 수 있는 구조로 제작하였습니다.
    * 다만, 게임이 미완성 상태라 게임 진행 중에 동료를 추가하는 기능은 아직 없습니다.
* 동작 체계
  * 유한 상태 머신을 이용, 상황에 따라서 행동이 자동으로 변화하도록 구성하였습니다.
  * 현재 공격과 스킬을 제외한 모든 행동이 제작되어 있는 상황이나, 공격과 스킬은 관련 기능이 미완성 상태라서 아직 없습니다.
  * 추가로, 몬스터 관련 요소와 화면 관련 요소를 아직 작업하지 않아서 현재 '전진 상태'만 유효한 상황입니다.
### 아이템
※ 현재 모든 항목 작업이 완료되었으나, 다른 요소들이 준비되지 않아서 테스트를 아직 못해봤습니다.
* 캐릭터 별 개별 장비 시스템
  * 캐릭터 별로 장비 슬롯을 따로 두어, 그 효과가 개별 적용되게끔 구성하였습니다.
  * 장착한 상황에서 장착 해제가 가능합니다.
  * 장착한 상황에서 재화를 소비하여 강화가 가능합니다.
* 인벤토리 시스템
  * 습득한 아이템이 인벤토리에 추가될 때, 습득 로그도 함께 표시됩니다.
    * 표시된 로그는 3.5초 뒤에 자동으로 제거됩니다.
  * 인벤토리에서 아이템을 장착할 캐릭터를 골라, 원하는 캐릭터에게 아이템을 장착시킬 수 있습니다.
    * 다만, 동일한 외형의 캐릭터에 대해서 구분할 수 있는 기능(ex. 테두리 색상 다변화)은 현재 없습니다.
  * 인벤토리에서 재화를 소비하여 강화가 가능합니다.
* 아이템의 정보는 ScriptableObject를 이용, 제작 양산할 수 있는 구조입니다.

## 개발 예정 기능
* 몬스터
  * 몬스터가 처음 부터 전량 필드에 생성된 이후 천천히 플레이어 방향으로 나아가는 방식으로 구성될 예정입니다.
  * 보스 몬스터가 플레이어 캐릭터들과 교전에 들어가면 HP바가 활성화되는 구조가 될 예정입니다.
  * 몬스터에 따라서 패턴을 다르게 할 예정입니다. 특히, 보스들은 '탄막'을 펼칠 예정입니다.
    * 피하는 게 아니라 맞는 것을 상정하고 있기에 피격 판정도 널널하지만 무적시간이 낭낭하게 구성할 예정입니다.
  * 몬스터가 보상으로 돈이나 아이템을 드롭하도록 구성할 예정입니다.
* 플레이어 캐릭터
  * 마우스를 이용해서 배치를 변경할 수 있게 만들 예정입니다.
  * 던전의 중간중간에 플레이어 캐릭터가 추가될 수 있도록 구성할 예정입니다.
  * 공격과 스킬을 추가할 예정입니다.
    * 공격은 직선 샷으로 예정하고 있습니다. 전 플레이어블 캐릭터 공통으로 사용할 예정.
    * 스킬은 마나 게이지가 완충되면 이를 전량 소비하여 발도되는 구성이 될 예정입니다.
      * 상술한 배치 요소를 십분 활용할 수 있도록, 포지션을 구성할 수 있는 요소로 작동할 예정입니다.
* 스테이지
  * 마을에서 스테이지를 선택하여 진입하는 방식이 될 예정입니다.
  * 스테이지에 따라서 출현하는 몬스터가 달라질 예정입니다.
  * 스테이지에 따라서 드롭되는 아이템의 종류가 달라질 예정입니다.
  * 스테이지에 난이도가 존재하며, 이에 따라서 각 몬스터들의 패턴 난이도가 증가하는 대신 드롭되는 아이템의 양이 증가할 예정입니다.
  * 스테이지에 레벨 배율이 존재하여, 이 레벨 배율에 따라서 고레벨 장비가 드롭될 확률을 높일 예정입니다.
  * 스테이지 종료 시의 보상을 형성할 예정입니다.
  * 이 내용은 ScriptableObject를 통해서 제어할 예정입니다.
* 아이템
  * 아이템의 강화 소모재가 재화가 아닌, 동레벨 혹은 그 이하의 아이템이 될 예정입니다.
  * 재화를 소비하여 아이템을 구매 가능한 상점을 추가할 예정입니다. (아이템의 레벨 1 당 가격이 3배가 될 예정.)
  * 플레이어 캐릭터에게 근처의 아이템을 끌어와서 습득하는 기능을 추가할 예정입니다.
  * 필드 바깥으로 떨어진 아이템을 스테이지 종료 시에 한번에 습득하는 기능을 추가할 예정입니다.
* 시스템
  * 저장 시스템을 추가할 예정입니다. 저장 슬롯은 3개로 예정 중.
  * 인 게임 메뉴를 추가할 예정입니다.
  * 게임 시작 시 튜토리얼을 추가할 예정입니다.
  * 게임 시작 시 시나리오 연출을 추가할 예정입니다.
  * 강화 단계에 한도가 없을 예정인데, 그렇다면 int 타입으로는 수치가 부족합니다. 이를 보완하는 요소를 추가할 예정입니다.
* 시각, 청각적 효과
  * 스킬을 사용 시, 플레이어 캐릭터 다운, 적 캐릭터 다운 시 효과음을 추가할 예정입니다.
  * BGM을 추가할 예정입니다. 타이틀과 마을, 던전, 보스전 이렇게 4종으로 구성할 예정.
  * 파티클을 이용, 투사체와 캐릭터에 이동 효과를 부여할 예정입니다.
    * 추가로, 투사체가 아닌, 범위형 스킬도 파티클을 이용해서 연출할 예정입니다.

# 트러블 슈팅
## 단일 구성과 다인 구성의 차이점
* 본작은 게임 진행 중에도 동료 캐릭터가 계속해서 증가할 수 있는 구조로 되어있습니다.
* 이러한 특징으로 인해서 **UI의 동적 생성**과 **요소 별 UI의 기능 독립**이 중요한데, 이 부분을 작업하는 데에 혼선이 자주 발생하였습니다.
* 본 프로젝트에서 가장 크게 당황했던 점을 작성하자면, 캐릭터의 장비 탈착 효과를 처리할 때 UI에 해당 기능이 들어갔었다는 것이 있겠습니다.
  * ItemInfoUI에서 일괄적으로 탈착 처리를 하다 보니까 생긴 문제였습니다.
  * 해당 ui에 player 정보가 없는 상황(ex. 인벤토리에서 정보창 호출)도 있다 보니, 어느샌가 UI를 기준으로 해당 작업을 작성을 하고 있었습니다.
  * 지금은 전달받는 index값을 캐릭터의 순서도 적용될 수 있도록 구성하여 해당 기능을 PlayerStatus 클래스로 옮긴 상황입니다.
 
## 유한 상태 머신 구현의 미숙함
* 아무래도 이번이 유한 상태 머신을 다루는 사실상의 첫 경험이다 보니, 이런저런 부분에서 많이 버벅였던 거 같습니다.
